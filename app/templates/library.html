<!doctype html>
{% extends 'base.html' %}

{% block title %}
Library
{% endblock %}

{% block page%}
Library
{% endblock %}

{% block search %}
    <form action="" method="post" novalidate>
        <b> NAME / TEXT: </b>
        {{ form.cardtext() }}
        <b> CARD TYPE: </b>
        {{ form.cardtype() }}
        <b> DISCIPLINE: </b>
        {{ form.discipline() }}
        <b> CLAN: </b>
        {{ form.clan() }}
        <b> SECT: </b>
        {{ form.sect() }}
        <b> TITLE: </b>
        {{ form.title() }}
        <b> BLOOD COST: </b>
        {{ form.bloodmoreless() }}
        {{ form.blood() }}
        <b> POOL COST: </b>
        {{ form.poolmoreless() }}
        {{ form.pool() }}
        <b> TEXT TRAITS: </b>
        {{ form.trait() }}

        {{ form.submit() }}
    </form>
{% endblock %}

{% if debug %}
    {% block debug %}
        <div class="total"><b>DEBUG: {{ debug }}</b></div>
    {% endblock %}
{% endif %}

{% block results %}

    {% if total %}

        <div id="total" class="total"><b>TOTAL: {{ total.pop(0) }}
            {% for type in total %}
                <img src="static/img/types/{{ type[0] }}.gif" height="26" alt="{{ type[0] }}">{{type[1]}}
            {% endfor %}
        </b></div>
        <input type="button" value="SHOW TEXT" onclick="showAll()" />
    {% endif %}

    {% for card in cards %}
    <div class="cards" id="1{{ card['Id'] }}" onclick="cardShowText(1{{ card['Id'] }}, 2{{ card['Id'] }})">

        {% for type in card['URL Type'] %}
            <img src="static/img/types/{{ type }}.gif" height="26" alt="{{ card['Type'] }}">
        {% endfor %}

        {% if card['URL Clan'] %}
            {% for clan in card['URL Clan'] %}
                <img src="static/img/clans/{{ clan }}.gif" height="26" alt="{{ clan }}">
            {% endfor %}
        {% endif %}

        {% if card['URL Discipline'] %}
            {% for discipline in card['URL Discipline'] %}
                <img src="static/img/disciplines/{{ discipline }}.gif" height="24" alt="{{ discipline }}" />
            {% endfor %}
        {% endif %}

        {% if card['Pool Cost'] %}
            <img src="static/img/misc/pool{{ card['Pool Cost'] }}.png" height="36" alt="{{ card['Pool Cost'] }}">
        {% endif %}

        {% if card['Blood Cost'] %}
            <img src="static/img/misc/blood{{ card['Blood Cost'] }}.png" height="36" alt="{{ card['Blood Cost'] }}">
        {% endif %}

        {% if card['Life'] %}
            <img src="static/img/misc/life{{ card['Life'] }}.png" height="22" alt="{{ card['Life'] }}">
        {% endif %}

        {% if card['Strength'] %}
            <img src="static/img/misc/str{{ card['Strength'] }}.png" height="22" alt="{{ card['Strength'] }}">
        {% endif %}

        <span class="hover_img">
            <a href="{{ 'static/img/cards/' + card['URL Name'] + '.jpg' }}">
                {{ card['Name'] }}
                <span>
                    <img class="lozad" data-src="{{ 'static/img/cards/'+ card['URL Name'] + '.jpg' }}" alt="image" height="400" />
                </span>
            </a>
        </span>

        <div class="cardtext" id="2{{ card['Id'] }}" style="display:none;">
            {% if card['Card Title'] %}
                <b>{{ card['Card Title'] }}</b><br>
            {% endif %}
            {% for i in card['Card Text'] %}
                {{ i }}<br>
            {% endfor %}
        </div>
        <div class="cardimage" id="3{{ card['Id'] }}" style="display:none;"><img class="lozad" data-src="{{ 'static/img/cards/' + card['URL Name'] + '.jpg' }}" height="500"></div>
    </div>
    {% endfor %}
    <script>document.getElementById('total').scrollIntoView();</script>
{% endblock %}
